# 🕌 Islamic Prayer Times Calculator<br>(حاسبة مواقيت الصلاة الإسلامية)

تتيح لك هذه الأداة حساب مواقيت الصلاة بدقة باستخدام المعادلات الفلكية، مع إمكانية تخصيصها حسب الموقع الجغرافي والمذهب المُستخدم.  
كما تدعم الزاوية المحلية للفجر والعشاء، وتنسيق الوقت 12 أو 24 ساعة.

تم مقارنة نتائج بعض الأيام من عام 1447هـ مع المواقع التالية:
  - https://timesprayer.com/hijri-prayer-in-cairo-1447-muharram.html
  - https://www.esa.gov.eg/praytimes.aspx (الهيئة المصرية العامة للمساحة)
  - https://prayertimes3.today/saudi-sa/jubail-45.html
  - https://github.com/zarrabi/praytime (praytimes.org)

وكانت النتيجة:
> معظم النتائج كانت متطابقة تقريباً مع اختلاف بسيط في الدقائق لبعض المواقيت (دقيقة أو دقيقتان).

> ويرجع ذلك إلى عدم توفر كافة المتغيرات اللازمة بدقة، أو الاختلافات البسيطة في الإحداثيات داخل المدينة الواحدة، أو تنوع الطرق الحسابية المُستخدمة، بالإضافة إلى الفروق البسيطة في القيم الوسطية المُستخدمة لحساب العوامل المؤثرة على انكسار أشعة الشمس؛ مما أدى إلى حدوث اختلافات طفيفة في بعض الدقائق بين المصادر.

---

## 📦 المميزات | Key Features
- حساب كافة المواقيت (الفجر، الشروق، الظُهر، العصر، المغرب، العشاء)
- حساب مواقيت الصلاة حسب الإحداثيات الجغرافية
- دعم المذهب الشافعي والحنفي في حساب العصر
- دعم طرق حساب زوايا الفجر والعشاء أو بالدقائق بعد المغرب
- قابلية تعديل الانكسار الجوي ***[متقدم]***
- قابلية تعديل انخفاض الأفق ***[متقدم]***
- دعم التوقيت الصيفي
- مُهيأ للاستخدام في التطبيقات والأنظمة التي تتطلب مواقيت دقيقة بدون انترنت

---

📊 الدقة والموثوقية | Accuracy and Reliability

### مقارنة أوقات الصلاة (23 يوليو 2025، القاهرة - مصر)
| الصلاة | مصدر خارجي <br>(timesprayer.com)<br>(Google Search) | مكتبة<br>zarrabi/praytime | الكود الحالي |
| :------- | :------- | :------- | :------- |
| **الفجر** | 04:28 ص | 04:28 ص<br>$\color{Green}{\textsf{(متطابق)}}$ | 04:27 ص<br>(أقل دقيقة) |
| **الشروق** | 06:09 ص | 06:09 ص<br>$\color{Green}{\textsf{(متطابق)}}$ | 06:08 ص<br>(أقل دقيقة) |
| **الظهر** | 01:02 م | 01:02 م<br>$\color{Green}{\textsf{(متطابق)}}$ | 01:01 م<br>(أقل دقيقة) |
| **العصر** | 04:38 م | 04:38 م<br>$\color{Green}{\textsf{(متطابق)}}$ | 04:38 م<br>$\color{Green}{\textsf{(متطابق)}}$ |
| **المغرب** | 07:54 م | 07:55 م<br>(أكبر دقيقة) | 07:54 م<br>$\color{Green}{\textsf{(متطابق)}}$ |
| **العشاء** | 09:23 م | 09:23 م<br>$\color{Green}{\textsf{(متطابق)}}$ | 09:23 م<br>$\color{Green}{\textsf{(متطابق)}}$ |

### مقارنة أوقات الصلاة (31 يوليو 2025، القاهرة - مصر)
| الصلاة | مصدر خارجي<br>(dar-alifta.org) | مكتبة<br>zarrabi/praytime | الكود الحالي |
| :------- | :------- | :------- | :------- |
| **الفجر** | 04:35 ص | 04:35 ص<br>$\color{Green}{\textsf{(متطابق)}}$ | 04:34 ص<br>(أقل دقيقة) |
| **الشروق** | 06:13 ص | 06:13 ص<br>$\color{Green}{\textsf{(متطابق)}}$ | 06:13 ص<br>$\color{Green}{\textsf{(متطابق)}}$ |
| **الظهر** | 01:01 م | 01:01 م<br>$\color{Green}{\textsf{(متطابق)}}$ | 01:01 م<br>$\color{Green}{\textsf{(متطابق)}}$ |
| **العصر** | 04:38 م | 04:38 م<br>$\color{Green}{\textsf{(متطابق)}}$ | 04:38 م<br>$\color{Green}{\textsf{(متطابق)}}$ |
| **المغرب** | 07:49 م | 07:50 م<br>(أكبر دقيقة) | 07:49 م<br>$\color{Green}{\textsf{(متطابق)}}$ |
| **العشاء** | 09:16 م | 09:16 م<br>$\color{Green}{\textsf{(متطابق)}}$ | 09:16 م<br>$\color{Green}{\textsf{(متطابق)}}$ |

### مقارنة أوقات الصلاة (23 يوليو 2025، جدة - السعودية)
| الصلاة | مصدر خارجي<br>(timesprayer.com) | مكتبة<br>zarrabi/praytime | الكود الحالي |
| :------- | :------- | :------- | :------- |
| **الفجر** | 04:28 ص | 04:28 ص<br>$\color{Green}{\textsf{(متطابق)}}$ | 04:27 ص<br>(أقل دقيقة) |
| **الشروق** | 05:53 ص | 05:53 ص<br>$\color{Green}{\textsf{(متطابق)}}$ | 05:52 ص<br>(أقل دقيقة) |
| **الظهر** | 12:30 م | 12:30 م<br>$\color{Green}{\textsf{(متطابق)}}$ | 12:29 م<br>(أقل دقيقة) |
| **العصر** | 03:46 م | 03:46 م<br>$\color{Green}{\textsf{(متطابق)}}$ | 03:46 م<br>$\color{Green}{\textsf{(متطابق)}}$ |
| **المغرب** | 07:06 م | 07:08 م<br>(أكبر دقيقتان) | 07:06 م<br>$\color{Green}{\textsf{(متطابق)}}$ |
| **العشاء** | 08:36 م | 08:38 م<br>(أكبر دقيقتان) | 08:36 م<br>$\color{Green}{\textsf{(متطابق)}}$ |

---

## ⚠️ تحذير هام | Important Warning

> **تم الاستعانة بمعادلة حسابية فلكية وبقيم تقديرية وسطية؛ نظراً لعدم إمكانية توفير متغيرات دقيقة ديناميكياً مثل قيم (انكسار أشعة الشمس، الضغط الجوي بالملبار، ...)، ونظراً لاحتمالية وقوع نسبة خطأ مهما كانت صغيرة، أو بسبب الاختلافات البسيطة في الإحداثيات داخل المدينة الواحدة؛ لذلك لا يُنصح بالاعتماد الكامل على هذه المعادلة بنسبة 100% للإفطار أو الإمساك أو في كافة الصلوات دون الرجوع إلى تقويم رسمي مُعتمد في بلدك.**

---

## 🧮 طريقة الاستخدام | How to Use

1. تخصيص الإعدادات الخاصة بمنطقتك:

قم بتغيير الإعدادات الخاصة بالمنطقة التي ترغب في حساب مواقيت الصلاة لها. ستحتاج إلى إدخال القيم التالية:

- الإحداثيات الجغرافية:
  - خط الطول (Longitude)
  - خط العرض (Latitude)
- المنطقة الزمنية (Time Zone):
  - مثال: `UTC+3` (جدة)، `UTC+2` (القاهرة)
- المذهب المُتبع لحساب العصر (Mazhab):
  - شافعي (`shafi`) أو حنفي (`hanafi`)
- زاوية الفجر (Fajr Angle):
  - هذه القيمة تتعلق بكيفية حساب وقت الفجر. عادة تكون `18` درجة، لكن بعض الدول تستخدم قيم مختلفة:
    - في مصر (الهيئة العامة المصرية للمساحة): زاوية `19.5`
    - في السعودية (تقويم أم القرى): زاوية `18.5`
- زاوية العشاء أو وقت العشاء (Ishaa Angle or Minutes after Maghrib):
  - عادة تكون `18` درجة
  - في مصر (الهيئة العامة المصرية للمساحة): زاوية `17.5`
  - في السعودية (تقويم أم القرى): يُحسب العشاء بعد `90` دقيقة من غروب الشمس في الأيام العادية، أو `120` دقيقة في رمضان
- التاريخ (Date):
  - التاريخ الذي ترغب في حساب مواقيت الصلاة فيه
- التوقيت الصيفي (Daylight Saving Time):
  - قم بتفعيله أو تعطيله حسب الحاجة
- تنسيق الوقت (Hour Format):
  - اختر إذا كنت ترغب في تنسيق 12 ساعة أو 24 ساعة
- الانكسار الجوي (Refraction) ***[متقدم]***:
  - إذا كنت بحاجة إلى تعديل انكسار أشعة الشمس
- انخفاض الأفق (Dip of Horizon) ***[متقدم]***:
  - قيمة انخفاض الأفق بالدرجات بالنسبة لراصد يقع على ارتفاع (h) متر عن مستوى سطح البحر

أمثلة على إعدادات المناطق:

- جدة - السعودية
```js
const jeddahConfig = {
    longitude: 39.1666, // خط الطول (جدة)
    latitude: 21.5333, // خط العرض (جدة)
    timeZone: 3, // المنطقة الزمنية (UTC+3)
    mazhab: 'shafi', // المذهب (شافعي، حنبلي، مالكي)
    fajrAngle: 18.5, // زاوية الفجر (السعودية: أم القرى)
    ishaaAngleOrMin: 90, // يُحسب العشاء بعد 90 دقيقة من غروب الشمس في الأيام العادية (السعودية: أم القرى)
    date: new Date(), // تاريخ اليوم
    isDaylightSavingTime: false, // التوقيت الصيفي
    is24HourFormat: false // تنسيق 12 ساعة
};
```

- القاهرة - مصر (تاريخ 23 يوليو 2025)
```js
const cairoConfig = {
    longitude: 31.2357, // خط الطول (القاهرة)
    latitude: 30.0444, // خط العرض (القاهرة)
    timeZone: 2, // المنطقة الزمنية (UTC+2)
    mazhab: 'shafi', // المذهب (شافعي، حنبلي، مالكي)
    fajrAngle: 19.5, // زاوية الفجر (مصر: الهيئة العامة المصرية للمساحة)
    ishaaAngleOrMin: 17.5, // زاوية العشاء (مصر: الهيئة العامة المصرية للمساحة)
    date: new Date(2025, 7-1, 23), // التاريخ (23 يوليو 2025)
    isDaylightSavingTime: true, // التوقيت الصيفي
    is24HourFormat: false // تنسيق 12 ساعة
};
```

2. حساب مواقيت الصلاة:

بمجرد تحديد الإعدادات الخاصة بك، يمكنك حساب مواقيت الصلاة باستخدام الكود التالي:

```js
const prayerTimes = new CalculateIslamicPrayerTimes(cairoConfig);
console.log({
    'date':       prayerTimes.getPrayerTimeDate(),
    'Al-Fajr':    prayerTimes.calculateFajrPrayerTime(),
    'A-Shuruq':   prayerTimes.calculateShuruqPrayerTime(),
    'A-Zuhr':     prayerTimes.calculateZuhrPrayerTime(),
    'Al-Asr':     prayerTimes.calculateAsrPrayerTime(),
    'Al-Maghrib': prayerTimes.calculateMaghribPrayerTime(),
    'Al-Ishaa':   prayerTimes.calculateIshaaPrayerTime()
});
```

---

📚 المراجع | References
- https://astronomycenter.net/article/2001_salat.html
- [فتوى رقم: 484732 (موقع إسلام ويب)](https://www.islamweb.net/ar/fatwa/484732/%D8%A8%D9%8A%D8%A7%D9%86-%D8%B5%D8%AD%D8%A9-%D9%85%D9%8A%D9%82%D8%A7%D8%AA-%D8%B5%D9%84%D8%A7%D8%A9-%D8%A7%D9%84%D9%81%D8%AC%D8%B1-%D8%A7%D9%84%D9%85%D8%AD%D8%AF%D8%AF-%D9%81%D9%8A-%D8%AA%D9%82%D8%A7%D9%88%D9%8A%D9%85-%D8%A7%D9%84%D8%AF%D9%88%D9%84-%D8%A7%D9%84%D8%A5%D8%B3%D9%84%D8%A7%D9%85%D9%8A%D8%A9)
